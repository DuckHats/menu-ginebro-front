<div
  class="p-6 w-full max-w-md rounded-2xl shadow-xl border"
  style="background: var(--surface); border-color: var(--border)"
>
  <h2 class="text-xl font-bold mb-3" style="color: var(--primary)">
    Carrega massiva
  </h2>

  <p class="text-sm mb-5" style="color: var(--text-secondary)">
    {{ data.descripcion }}
  </p>

  <div class="mb-5">
    <a
      [href]="data.plantillaUrl"
      download
      class="text-sm font-medium hover:underline"
      style="color: var(--primary)"
    >
      ⬇️ Descarregar plantilla
    </a>
  </div>

  <div
    class="border-2 border-dashed rounded-xl p-5 text-center text-sm cursor-pointer transition"
    style="border-color: var(--border); color: var(--text-secondary)"
    (click)="fileInput.click()"
    (dragover)="onDragOver($event)"
    (drop)="onDrop($event)"
  >
    <span *ngIf="!selectedFile"> Fes clic o arrossega un fitxer aquí </span>

    <span
      *ngIf="selectedFile"
      class="font-medium"
      style="color: var(--text-primary)"
    >
      Fitxer seleccionat: {{ selectedFile.name }}
    </span>

    <input
      type="file"
      accept=".json"
      #fileInput
      (change)="onFileChange($event)"
      hidden
    />
  </div>

  <p class="text-xs mt-3" style="color: var(--text-muted)">
    Només es permeten fitxers JSON amb el format correcte.
  </p>

  <div class="mt-6 flex justify-end gap-2">
    <button
      class="px-4 py-2 rounded-lg text-white transition disabled:opacity-50"
      style="background: var(--primary)"
      [disabled]="!selectedFile"
      (click)="uploadFile()"
    >
      Pujar fitxer
    </button>

    <button
      class="px-4 py-2 transition"
      style="color: var(--text-secondary)"
      (click)="close()"
    >
      Cancel·lar
    </button>
  </div>
</div>
